compare switch, visitor pattern, RTTI performance
